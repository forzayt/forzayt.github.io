<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        function loadMobileVersion() {
            if (window.innerWidth <= 500) { // Define your breakpoint for mobile here
                window.location.href = "posters/"; // Redirect to the mobile version
            }
        }
    
        // Run the function when the page loads and whenever the window is resized
        window.onload = loadMobileVersion;
        window.onresize = loadMobileVersion;
    </script>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallpaper API</title>
    
</head>
<body>
    <h1>WALLPAPERS</h1>
    <a href="posters/"> <button class="button">
        <span class="button_lg">
            <span class="button_sl"></span>
            <span class="button_text">More Posters</span>
        </span>
    </button>
</a>
    <div id="wallpaper-container" class="container">
        
            
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const apiUrl = urlParams.get("api") || "https://wallpaper-api-ih1w.onrender.com/api/wallpapers";

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error("Failed to fetch wallpapers");

                const wallpapers = await response.json();
                const container = document.getElementById("wallpaper-container");

                wallpapers.forEach(wallpaper => {
                    const img = document.createElement("img");
                    img.src = wallpaper.url;
                    img.alt = wallpaper.title || "Wallpaper";
                    img.className = "wallpaper";
                    container.appendChild(img);
                });
            } catch (error) {
                console.error("Error loading wallpapers:", error);
                document.getElementById("wallpaper-container").innerHTML = "<p>Failed to load wallpapers.</p>";
            }
        });
    </script>
</body>
<footer>The Above images are taken from FORZA HORIZON 5 by me !! Contribute to this project <a href="https://github.com/vishnu1100/wallpaper-api" target="_blank">  here </a>  </footer>
</html>